var MonitorChart=function(){return{version:"MonitorChart 1.0.0",id:"",constructor:MonitorChart,googleChartOpt:null,_vchart:null,dispEl:null,direction:"l-r",data:null,index:0,start:0,ctime:[-1,-1],space:5,count:240,cross:4,illustration:[],uri:"",ajaxParam:{},callback:null,loaded:!1,_chartData:null,onLoadCallback:null,_curPos:0,create:function(a){for(var b in this)a.hasOwnProperty(b)&&(this[b]=a[b]);if(!(this.googleChartOpt&&this.googleChartOpt instanceof Object))throw new Error("googleChartOpt must be specified.");this._load(),google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(this.onLoadCallback)},_reloadProp:["data","start","ctime"],reload:function(a){for(var b=this._reloadProp,c=0;c<b.length;c++)a.hasOwnProperty(b[c])&&(this[b[c]]=a[b[c]]);this._load(),this.draw()},_load:function(){var a=0;if(this.data.length>0){var b=this.data[this.data.length-1],c=b[b.length-2],d=b[b.length-1];a=60*(c-this.start)+d-this.data.length}a=a>0?a:0;var e=[this.illustration],f=null,g=null,h=this._index(),i=this.illustration.length;if("l-r"===this.direction){e=e.concat(this._fillBlank(1,a+1)),a++;for(var j=0;j<this.data.length;j++,a++){f=new Array(i),f[0]=this._haxis(a),g=this.data[j];for(var k=0;k<h.length;k++)f[k+1]=g[h[k]];e.push(f)}if(this._curPos=a,e=e.concat(this._fillBlank(a,this.count+1)),0===this.data.length)for(j=0;j<h.length;j++)e[1][j+1]=0}this._chartData=e},draw:function(){var a=google.visualization.arrayToDataTable(this._chartData);null===this._vchart&&(this._vchart=new google.visualization.AreaChart(this.dispEl)),this._vchart.draw(a,this.googleChartOpt),this.loaded=!0},fresh:function(a){var b=null;if(this._curPos>this.count?(b=new Array(this.illustration.length),b[0]=this._haxis(this._curPos)):b=this._chartData[this._curPos],void 0===a)b[1]=0;else if(a instanceof Array)for(var c=0;c<a.length;c++)b[c+1]=a[c];else b[1]=a;this._curPos>this.count&&(this._chartData.splice(1,1),this._chartData.push(b)),this.draw(),this._curPos++},_haxis:function(a){var b=this.start,c=(a-1)%60,d=(b<10?"0"+b:b)+":"+(c<10?"0"+c:c);return 59==c&&(this.start++,24===this.start&&(this.start=0)),d},_index:function(){var a=this.index;if("string"==typeof a){var b=[];if(a.indexOf("..")>0){for(var c=a.split(".."),d=parseInt(c[0]);d<=parseInt(c[1]);d++)b.push(d);return b}}return"number"==typeof a?[a]:a instanceof Array?a:[]},_fillBlank:function(a,b){for(var c=this._index().length,d=null,e=[],f=a;f<b;f++){d=new Array(c+1),d[0]=this._haxis(f);for(var g=0;g<c;g++)d[g+1]=null;e.push(d)}return e}}},mchart=function(a){var b=new MonitorChart;return b.create(a),b};