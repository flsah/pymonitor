var MonitorChart=function(){return{version:"MonitorChart 1.0.0",id:"",constructor:MonitorChart,googleChartOpt:null,_vchart:null,dispEle:null,direction:"l-r",data:null,index:0,start:0,ctime:[-1,-1],space:5,count:240,cross:4,illustration:[],uri:"",ajaxParam:{},callback:null,loaded:!1,_chartData:null,onLoadCallback:null,_curPos:0,create:function(a){for(var b in this)this.hasOwnProperty(b)&&a[b]&&(this[b]=a[b]);if(!(this.googleChartOpt&&this.googleChartOpt instanceof Object))throw new Error("googleChartOpt must be specified.");var c=[this.illustration],d=null,e=null,f=this._index(),g=this.illustration.length,h=0;if(this.ctime[0]>-1&&(h=60*(this.ctime[0]-this.start)+this.ctime[1]-this.data.length),h=h>0?h:0,"l-r"===this.direction){c=c.concat(this._fillBlank(1,h+1)),h++;for(var i=0;i<this.data.length;i++,h++){d=new Array(g),d[0]=this._haxis(h),e=this.data[i];for(var j=0;j<f.length;j++)d[j+1]=e[f[j]];c.push(d)}if(this._curPos=h,c=c.concat(this._fillBlank(h,this.count+1)),0===this.data.length)for(i=0;i<f.length;i++)c[1][i+1]=0}this._chartData=c,google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(this.onLoadCallback)},draw:function(){var a=google.visualization.arrayToDataTable(this._chartData);null===this._vchart&&(this._vchart=new google.visualization.AreaChart(this.dispEle)),this._vchart.draw(a,this.googleChartOpt),this.loaded=!0},fresh:function(a){var b=null;if(this._curPos>this.count?(b=new Array(this.illustration.length),b[0]=this._haxis(this._curPos)):b=this._chartData[this._curPos],a instanceof Array)for(var c=0;c<a.length;c++)b[c+1]=a[c];else b[1]=a;this._curPos>this.count&&(this._chartData.splice(1,1),this._chartData.push(b)),this.draw(),this._curPos++},_haxis:function(a){var b=this.start,c=(a-1)%60,d=(b<10?"0"+b:b)+":"+(c<10?"0"+c:c);return 59==c&&this.start++,d},_index:function(){var a=this.index;if("string"==typeof a){var b=[];if(a.indexOf("..")>0){for(var c=a.split(".."),d=parseInt(c[0]);d<=parseInt(c[1]);d++)b.push(d);return b}}return"number"==typeof a?[a]:a instanceof Array?a:[]},_fillBlank:function(a,b){for(var c=this._index().length,d=null,e=[],f=a;f<b;f++){d=new Array(c+1),d[0]=this._haxis(f);for(var g=0;g<c;g++)d[g+1]=null;e.push(d)}return e}}},mchart=function(a){var b=new MonitorChart;return b.create(a),b};